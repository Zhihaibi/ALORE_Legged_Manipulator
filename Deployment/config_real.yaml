# Configuration for b2z1_highlevel_controller and environment settings

paths:
  prefix: "/home/unitree"
  isaaclab_prefix: "/home/v1/IsaacLab/"
  log_dir: "/log"
  resume_path: "/ckpts/model_5999.pt"
  low_level_policy: "/ckpts/unitree_b2z1/model_78000.pt"


# ROS settings
ros:
  node_name: "object_rearrangement"
  obs_topic: "/env_obs"
  control_topic: "/env_control_data"
  obs_publish_period: 0.01

# Environment settings (from b2z1_env_cfg.py)
env:
  episode_length_s: 20.0
  decimation: 4
  action_scale: [0.5, 0.5, 0.5, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05]
  action_clip: [0.6, 0.0, 0.6, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05]
  arm_joint_clip: [0.5, 0.5, 0.5, 0.5, 0.5, 1.2]
  history_len: 10 

# Simulation settings
sim:
  dt: 0.005 # Corresponds to 1/200

# FSM Controller settings
fsm:
  default_scenario: "office" # "office", "warehouse", "library"
  default_object_category: "chair" # "chair", "table", "box", "mix"
  reach_threshold: 0.25

  # for real experiment
  real_2_rviz_offset: [-4.4, 1.2, 0.0] # four chair, lab_v1.pcd
  # real_2_rviz_offset: [0.0, 0.0, 0.0] # long, for auto, IADC_V2_plan.pcd

  urdf_path: "/asset/z1/urdf/z1_original.urdf"
  
  objects:
    chair:
      grasp_cfg: [0.38, 0.36, 55.0]   # real in mocap
      plan_cfg: [0.8, 0.0, 0.0] # real in mocap

      com_offset: [0.0, 0.0, 0.6]
      arm_default_pose: [0.0, 1.9, -1.72, 0.72, 0.0, 0.0, -0.1]
      mesh_source: "/asset/movechair.dae"

      # # target pose for four chair in mocap
      target_poses:
        - [-1.7, 3.4, 0.0, 1.57]
        - [-0.3, 3.4, 0.0, 1.57]
        - [1.0,  3.4, 0.0, 1.57]
        - [1.5,  10.4, 0.0, 1.57]
      
    table:
      grasp_cfg: [0.45, 0.02, 3.0] # sim x, z, angle
      plan_cfg: [1.0, 0.0, 0.0]
      com_offset: [0.3, 0.5, 0.6]
      arm_default_pose: [0.0, 2.8, -1.15, -1.4, 0.0, 0.0, -0.1]
      mesh_source: "/asset/table.dae"
      target_poses:
        - [12.0, -6.0, 0.0, 0.0]
        - [-8.0, 5.0, 0.0, 3.14]
        - [11.0, 3.0, 0.0, 0.0]
        - [-7.0, -12.0, 0.0, 3.14]
    box:
      grasp_cfg: [0.25, 0.15, 80.0] # sim x, z, angle
      plan_cfg: [0.82, 0.0, 0.0]
      com_offset: [0.2, 0.3, 0.3]
      arm_default_pose: [0.0, 2.71, -0.82, -0.5, 0.0, 0.0, -0.1]
      mesh_source: "/asset/box.dae"
      target_poses:
        - [-7.0, -13.0, 0.0, -1.57]
        - [3.0, 0.5, 0.0, 1.57]
        - [10.0, 4.5, 0.0, 1.57]
        - [-7.5, -4.0, 0.0, 3.14]
      
